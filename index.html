<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workouts</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>    	
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
</head>
<body>
    <header>
        <div class="header">
            <div class="container">
                <div class="header-item">
                    <a href="#" class="header-logo"></a>
                    <nav class="header-nav">
                        <ul class="header-links">                    
                            <li><a href="#">Мероприятия</a></li>
                            <li><a href="#">Расписание</a></li>
                            <li><a href="#">О компании</a></li>                                        
                        </ul>
                    </nav>
                    <ul class="nav-social">
                        <li><a class="nav-insta" href="#"></a></li>
                        <li><a class="nav-fb" href="#"></a></li>
                    </ul> 
                </div>     
            </div>                   
        </div>
        <div class="bg">
            <div class="container">
                <div class="bg-text">
                    <h1 class="bg-text-title">
                        онлайн тренировки любой сложности
                    </h1>
                    <h2>
                        <span>> 15</span>
                        тренировок
                    </h2>
                    <div class="bg-description">
                        <p>в области спортивной физиологии и нутрициологии</p>
                        <a href="#" class="bg-button">Узнать подробнее</a>                        
                    </div>
                    <a href="#events" class="button-down"></a>           
                </div>
                <div class="visual">
                    <div class="visual-bg">
                        <div class="visual-bg-1"></div>
                        <div class="visual-bg-2"></div>
                    </div>                    
                    <img src="files/@1x/girl.png" alt="girl">                   
                </div>
            </div>                                                      
        </div>       
    </header>
    <main>
        <section class="edvents">
            <div class="container">
                <h3 class="edvents-title" id="events">Ближайшие события</h3>
                <div class="edvents-box">
                    <div class="box-item item-1"> <!--box-item item-1-->
                        <div class="box-item item-gradient">
                            <div class="box-text">
                                <span>29.06 - 4.07</span>
                                <p class="box-text-title">Марафон выносливости</p>
                                <a onclick="showModalWin()">Участвовать</a>
                            </div>  
                            <span class="edvents-name">марафон</span>
                        </div> <!--box-item item-gradient-->
                    </div>
                    <div class="box-item item-2">
                        <div class="box-item item-gradient">
                            <div class="box-text">
                                <span>9.07</span>
                                <p class="box-text-title">Как стать тренером?</p>
                                <a onclick="showModalWin()">Участвовать</a>
                            </div>
                            <span class="edvents-name">вебинар</span>
                        </div>                            
                    </div>
                    <div class="box-item item-3">
                        <div class="box-item item-gradient">
                            <div class="box-text">
                                <span>15.07</span>
                                <p class="box-text-title">Йога, как стиль жизни</p>
                                <a onclick="showModalWin()">Участвовать</a>
                            </div>
                            <span class="edvents-name">вебинар</span>
                        </div>                                                
                    </div>
                </div>                
            </div>
        </section>
        <section class="schedule">
            <div class="container">
                <div class="schedule-box">
                    <h3>Расписание тренировок</h3>
                    <p>22 - 28 июня</p>
                </div>
                <div class="schedule-grid">
                    <div class="schedule-grid-item grid-item-1">
                        <time>22 июня, 10:00</time>
                        <div class="training-box">
                            <img src="icons/body.svg" alt="body">
                            <span class="training-title">Функциональный тренинг</span>
                            <p class="training-description">                            
                                Улучшает физические качества и двигательные способности.
                            </p>
                        </div>                        
                    </div>
                    <div class="schedule-grid-item grid-item-2">
                        <time>22 июня, 10:00</time>
                        <div class="training-box">
                            <img src="icons/bottle.svg" alt="body">
                            <span class="training-title">Body sculpt</span>
                            <p class="training-description">                            
                                Упражнения помогут создать красивый рельеф 
                                и прийти<br> в спортивную форму.
                            </p>
                        </div>
                    </div>
                    <div class="schedule-grid-item grid-item-3">
                        <time>22 июня, 10:00</time>
                        <div class="training-box">
                            <img src="icons/dumbbell.svg" alt="body">
                            <span class="training-title">L.A.B.</span>
                            <p class="training-description">                            
                                Упражнения помогут создать красивый рельеф 
                                и прийти<br> в спортивную форму.
                            </p>
                        </div>
                    </div>
                    <div class="schedule-grid-item grid-item-4 item-active">
                        <time>22 июня, 10:00</time>
                        <div class="training-box">
                            <img src="icons/jump.svg" alt="body">
                            <span class="training-title">Силовой микс</span>
                            <p class="training-description">                            
                                Упражнения помогут создать красивый рельеф 
                                и прийти<br> в спортивную форму.
                            </p>
                        </div>
                    </div>
                    <div class="schedule-grid-item grid-item-5">
                        <time>22 июня, 10:00</time>
                        <div class="training-box">
                            <img src="icons/heart.svg" alt="body">
                            <span class="training-title">Дыхательные практики</span>
                            <p class="training-description">                            
                                Упражнения помогут создать красивый рельеф 
                                и прийти<br> в спортивную форму.
                            </p>
                        </div>
                    </div>
                    <div class="schedule-grid-item grid-item-6">
                        <time>22 июня, 10:00</time>
                        <div class="training-box">
                            <img src="icons/weight.svg" alt="body">
                            <span class="training-title">Комплексная разминка</span>
                            <p class="training-description">                            
                                Упражнения помогут создать красивый рельеф 
                                и прийти<br> в спортивную форму.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="subscribe">
            <div class="subscribe-bg">
                <div class="container">
                    <div class="subscribe-box">
                        <h3 class="subscribe-box-title">Подпишитесь на рассылку</h3>                  
                        <div class="subscribe-box-flex" id="subscribe">
                            <input type="text" class="email req" placeholder="Ваш e-mail"> <!--<a href="#" class="bg-button">подписаться</a>-->
                            <p class="input-email-error">Некорректный адрес e-mail</p>
                            <button type="submit" class="subscribe-btn bg-button">подписаться</button>
                        </div>
                        <label class="custom-checkbox">
                            <input type="checkbox" class="req">
                            <p class="subscribe-box-checkbox-text">Согласен с обработкой 
                                <a href="#" class="personal-data">персональных данных</a>
                            </p>
                        </label>                      
                    </div>
                </div>
            </div>
        </section>
        <section class="info">
            <div class="container">
                <div class="info-box">
                    <div class="info-text">
                        <h3 class="info-title">О компании</h3>
                        <p class="info-description">
                            Наша компания является одной из немногих, 
                            кто предлагает фитнес услуги онлайн! 
                            Оставайтесь <br>с нами и вы сами увидите, 
                            что мы проводим <br>не только онлайн-тренировки.
                        </p>
                        <a href="#" class="bg-button info-btn">Записаться</a>
                    </div>
                    <div class="info-img">
                        <div class="info-img-bg"></div>
                        <img src="files/@1x/trainer.png" alt="trainer">
                    </div>                    
                </div>
                <div class="advantages-box">
                    <div class="advantages-item">
                        <span class="advantages-title">Экономия времени</span>
                        <p class="advantages-description">
                            Не нужно тратить время на дорогу
                        </p>
                    </div>
                    <div class="advantages-item">
                        <span class="advantages-title">Индивидуальный подход</span>
                        <p class="advantages-description">
                            Внимание тренера пренадлежит только вам
                        </p>
                    </div>
                    <div class="advantages-item">
                        <span class="advantages-title">Экономия денег</span>
                        <p class="advantages-description">
                            Средняя цена одной тренировки - 700₽
                        </p>
                    </div>
                    <div class="advantages-item">
                        <span class="advantages-title">Опытный персонал</span>
                        <p class="advantages-description">
                            Стаж работы у наших тренеров от 5 лет
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="footer">
            <div class="container">
                <div class="footer-item header-item">
                    <a href="#" class="header-logo"></a>
                    <nav class="footer-nav">
                        <ul class="footer-links">                    
                            <li><a href="#">Мероприятия</a></li>
                            <li><a href="#">Расписание</a></li>
                            <li><a href="#">О компании</a></li>                                        
                        </ul>
                    </nav>
                    <ul class="footer-nav-social">
                        <li><a href="mailto:info@freefit.com">info@freefit.com</a></li>
                        <li><a class="nav-insta" href="#"></a></li>
                        <li><a class="nav-fb" href="#"></a></li>
                    </ul> 
                </div>
                <div class="copyright">
                    <p>&copy; 2020, Все права защищены</p>
                    <p>Сделано в рамках курса учебной платформы <a href="#">Annblok</a></p>
                </div>
            </div>
        </div>
    </footer>
    <div style="text-align: center" id="popupWin" class="modalwin">
        <button type="button" class="modal-close" onclick="closeModal()"></button>
        <div class="modal-box">
            <p class="modal-title">Заявка на участие
                «Марафон выносливости»</p>
            <p class="modal-description">
                Заполните все поля, и мы пришлем информацию в ближайшее время
            </p>
        </div>        
        <form action="#" class="modal-form" id="form">
            <input type="email" class="input-email req" placeholder="Ваш e-mail" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$">
            <p class="input-email-error" id="email-error">Некорректный адрес e-mail</p>
            <input type="text" id="tel" class="input-tel req" placeholder="Ваш номер телефона" pattern="^((\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10}$"> <!--<a href="#" class="bg-button">Отправить</a>-->
            <p class="input-tel-error" id="tel-error">Некорректный номер телефона</p>
            <button type="submit" class="modal-form-btn bg-button">отправить</button>
        </form>
    </div>
    <script>

        // Smooth Scroll

        const links = document.querySelectorAll(".button-down");

        for (const link of links) {
        link.addEventListener("click", clickHandler);
        }

        function clickHandler(e) {
        e.preventDefault();
        const href = this.getAttribute("href");

        document.querySelector(href).scrollIntoView({
            behavior: "smooth"
            });
        }

        // ModalWin

        function showModalWin() {

            var darkLayer = document.createElement('div'); // слой затемнения
            darkLayer.id = 'shadow'; // id чтобы подхватить стиль
            document.body.appendChild(darkLayer); // включаем затемнение

            var modalWin = document.getElementById('popupWin'); // находим наше "окно"
            modalWin.style.display = 'block'; // "включаем" его


            
        }

        function closeModal() {
            /*let formError = document.querySelectorAll('.error');

            for (let index = 0; index < formError.length; index++) {
                    const input = formError[index];
                    input.parentElement.classList.remove('error');
                    input.classList.remove('error');
            }*/

            document.getElementById("popupWin").style.display = "none";
            document.getElementById("shadow").parentNode.removeChild(document.getElementById("shadow"));
            document.getElementById('email-error').style.display = 'none';       
        }

        //Mask for Tel

        jQuery(function($){
            $("#tel").mask("+7 (999) 999-99-99");
            });

        //Validation
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('form');
            form.addEventListener('submit', formSend);

            async function formSend(e) {
                e.preventDefault();

                let error = formValidate(form);
            }

            function formValidate(form) {
                let formReq = document.querySelectorAll('.req');
                
                for (let index = 0; index < formReq.length; index++) {
                    const input = formReq[index];
                    
                    if (input.classList.contains('input-email')){
                        if (!emailTest(input)) {
                            document.getElementById('email-error').style.display = 'block';
                        } else {
                            document.getElementById('email-error').style.display = 'none'; 
                        }
                    }                    
                }
            }            

            function emailTest(input) {
                return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(input.value);
            }
            
            function telTest(input) {
                return !/^((\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10}$/.test(input.value);
            }
            //+7 (123) 456 - 78 - 91

        });
    </script>
</body>
</html>
